
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://brace2.github.io/OpenSeesRT/developer/extending/uniaxial/">
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-, mkdocs-material-8.2.13">
    
    
      
        <title>New Material Models - OpenSeesRT</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e411adfe.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=serif:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"serif";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../math.css">
    
      <link rel="stylesheet" href="../../../particle.css">
    
      <link rel="stylesheet" href="../../../grid.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OpenSeesRT" class="md-header__button md-logo" aria-label="OpenSeesRT" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenSeesRT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              New Material Models
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../library/analysis/DirectIntegration/" class="md-tabs__link">
        Library
      </a>
    </li>
  

  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OpenSeesRT" class="md-nav__button md-logo" aria-label="OpenSeesRT" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    OpenSeesRT
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1">
          Library
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Library" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Library
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1" type="checkbox" id="__nav_1_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_1">
          Analysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Analysis" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_1">
          <span class="md-nav__icon md-icon"></span>
          Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1_1" type="checkbox" id="__nav_1_1_1" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../library/analysis/DirectIntegration/">DirectIntegrationAnalysis</a>
          
            <label for="__nav_1_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="DirectIntegrationAnalysis" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_1_1">
          <span class="md-nav__icon md-icon"></span>
          DirectIntegrationAnalysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/231-Explicit%20Difference/" class="md-nav__link">
        Explicit Difference

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/277-Generalized%20Alpha%20Method/" class="md-nav__link">
        Generalized Alpha Method

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/326-Hilber-Hughes-Taylor%20Method/" class="md-nav__link">
        Hilber-Hughes-Taylor

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/416-Newmark%20Method/" class="md-nav__link">
        Newmark Method

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/675-TRBDF2/" class="md-nav__link">
        TRBDF2

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/81-Central%20Difference/" class="md-nav__link">
        Central Difference

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/DirectIntegration/_implementation/" class="md-nav__link">
        
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1_2" type="checkbox" id="__nav_1_1_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_1_2">
          EigenAnalysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="EigenAnalysis" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_1_2">
          <span class="md-nav__icon md-icon"></span>
          EigenAnalysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/Eigen_Analysis/ArpackSolver/" class="md-nav__link">
        ArpackSolver

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/Eigen_Analysis/EigenAlgorithm/" class="md-nav__link">
        
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/Eigen_Analysis/FrequencyAlgo/" class="md-nav__link">
        FrequencyAlgo

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/Eigen_Analysis/StandardEigenAlgo/" class="md-nav__link">
        StandardEigenAlgo

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1_3" type="checkbox" id="__nav_1_1_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../library/analysis/">StaticAnalysis</a>
          
            <label for="__nav_1_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="StaticAnalysis" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_1_3">
          <span class="md-nav__icon md-icon"></span>
          StaticAnalysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/154-Displacement%20Control/" class="md-nav__link">
        Displacement Control

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/24-Arc-Length%20Control/" class="md-nav__link">
        Arc-Length Control

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/372-Load%20Control/" class="md-nav__link">
        Load Control

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/387-Minimum%20Unbalanced%20Displacement%20Norm/" class="md-nav__link">
        Minimum Unbalanced Displacement Norm

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/EQPath/" class="md-nav__link">
        EQPath

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/HSConstraint/" class="md-nav__link">
        HSConstraint

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/" class="md-nav__link">
        StaticAnalysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/LoadPath/" class="md-nav__link">
        LoadPath

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/ParkLMS3/" class="md-nav__link">
        ParkLMS3

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/analysis/StaticAnalysis/StagedLoadControl/" class="md-nav__link">
        StagedLoadControl

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" type="checkbox" id="__nav_1_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2">
          Modeling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modeling" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          Modeling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1" type="checkbox" id="__nav_1_2_1" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1">
          Uniaxial Material
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Uniaxial Material" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_2_1">
          <span class="md-nav__icon md-icon"></span>
          Uniaxial Material
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_1" type="checkbox" id="__nav_1_2_1_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1_1">
          Elastic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Elastic" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          Elastic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/elastic/181-ElasticMultiLinear/" class="md-nav__link">
        ElasticMultiLinear

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/elastic/195-Elastic%20Uniaxial/" class="md-nav__link">
        Elastic

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/elastic/180-ElasticBilin/" class="md-nav__link">
        ElasticBilin

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_2" type="checkbox" id="__nav_1_2_1_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1_2">
          Generic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Generic" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_2">
          <span class="md-nav__icon md-icon"></span>
          Generic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/bouc/64-BoucWen/" class="md-nav__link">
        BoucWen

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/generic/322-Hardening/" class="md-nav__link">
        Hardening

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/generic/179-Elastic-Perfectly%20Plastic/" class="md-nav__link">
        Elastic-Perfectly Plastic

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/generic/404-MultiLinear/" class="md-nav__link">
        MultiLinear

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_3" type="checkbox" id="__nav_1_2_1_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1_3">
          Metallic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Metallic" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_3">
          <span class="md-nav__icon md-icon"></span>
          Metallic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/666-Steel02/" class="md-nav__link">
        Steel02

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/668-SteelMPF/" class="md-nav__link">
        SteelMPF

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/587-Reinforcing%20Steel/" class="md-nav__link">
        ReinforcingSteel

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/667-Steel4/" class="md-nav__link">
        Steel4

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/158-DoddRestrepo/" class="md-nav__link">
        DoddRestrepo

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/730-UVCuniaxial/" class="md-nav__link">
        UVCuniaxial

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/metallic/569-RambergOsgoodSteel/" class="md-nav__link">
        RambergOsgoodSteel

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_4" type="checkbox" id="__nav_1_2_1_4" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1_4">
          Concrete
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concrete" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_4">
          <span class="md-nav__icon md-icon"></span>
          Concrete
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/concrete/97-ConfinedConcrete01/" class="md-nav__link">
        ConfinedConcrete01

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/concrete/94-ConcreteCM/" class="md-nav__link">
        ConcreteCM

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/concrete/91-Concrete04/" class="md-nav__link">
        Concrete04
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/concrete/90-Concrete02/" class="md-nav__link">
        Concrete02
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/concrete/92-Concrete06/" class="md-nav__link">
        Concrete06

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/concrete/Concrete02IS/" class="md-nav__link">
        Concrete02IS

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_5" type="checkbox" id="__nav_1_2_1_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1_5">
          Geotechnical
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Geotechnical" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_5">
          <span class="md-nav__icon md-icon"></span>
          Geotechnical
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/geotechnical/557-PySimple1/" class="md-nav__link">
        PySimple1

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/geotechnical/565-QzSimple1/" class="md-nav__link">
        QzSimple1

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_6" type="checkbox" id="__nav_1_2_1_6" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_1_6">
          Wrappers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Wrappers" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_6">
          <span class="md-nav__icon md-icon"></span>
          Wrappers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/wrapper/489-Parallel/" class="md-nav__link">
        Parallel

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/uniaxial/wrapper/632-Series/" class="md-nav__link">
        Series

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_2" type="checkbox" id="__nav_1_2_2" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_2">
          Element
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Element" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_2_2">
          <span class="md-nav__icon md-icon"></span>
          Element
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_2_1" type="checkbox" id="__nav_1_2_2_1" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_2_1">
          Beam
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Beam" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          Beam
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/element/beam/2057-Force-Based%20Beam-Column%20Element/" class="md-nav__link">
        Force-Based Beam-Column Element

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/element/beam/2184-Elastic%20Beam%20Column%20Element/" class="md-nav__link">
        ElasticBeamColumn

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_3" type="checkbox" id="__nav_1_2_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2_3">
          Constraint
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Constraint" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_2_3">
          <span class="md-nav__icon md-icon"></span>
          Constraint
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/constraints/602-RigidLink/" class="md-nav__link">
        RigidLink

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_4" type="checkbox" id="__nav_1_2_4" >
      
      
      
        
          
        
          
            
          
        
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../library/modeling/pattern/plain/">Pattern</a>
          
            <label for="__nav_1_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Pattern" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_2_4">
          <span class="md-nav__icon md-icon"></span>
          Pattern
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/pattern/Multisupport_Excitation/" class="md-nav__link">
        Multisupport Excitation

      </a>
    </li>
  

            
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/pattern/740-Uniform%20Excitation%20Pattern/" class="md-nav__link">
        Uniform Excitation Pattern

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modeling/pattern/" class="md-nav__link">
        Load Patterns

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" type="checkbox" id="__nav_1_3" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_3">
          Utilities
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Utilities" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          Utilities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/utilities/units/" class="md-nav__link">
        Units
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_2" type="checkbox" id="__nav_1_3_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_3_2">
          Recorders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recorders" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_3_2">
          <span class="md-nav__icon md-icon"></span>
          Recorders
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/utilities/recorders/208-Element%20Recorder/" class="md-nav__link">
        Element

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/utilities/recorders/431-Node%20Recorder/" class="md-nav__link">
        Node

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_4">
          Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modules" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4_1" type="checkbox" id="__nav_1_4_1" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_4_1">
          Algebraic Hysteresis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Algebraic Hysteresis" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_4_1">
          <span class="md-nav__icon md-icon"></span>
          Algebraic Hysteresis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modules/AlgebraicHysteresis/backbone/RaynorBackbone/" class="md-nav__link">
        Raynor

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modules/AlgebraicHysteresis/backbone/LinearCappedBackbone/" class="md-nav__link">
        LinearCapped

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modules/AlgebraicHysteresis/backbone/MultilinearBackbone/" class="md-nav__link">
        Multilinear

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modules/AlgebraicHysteresis/backbone/ArctangentBackbone/" class="md-nav__link">
        Arctangent

      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modules/AlgebraicHysteresis/backbone/ManderBackbone/" class="md-nav__link">
        Mander

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4_2" type="checkbox" id="__nav_1_4_2" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_4_2">
          Nonlinear Beam-Column
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Nonlinear Beam-Column" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_4_2">
          <span class="md-nav__icon md-icon"></span>
          Nonlinear Beam-Column
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../library/modules/NonlinearBeamColumn/geometry/370-Linear%20Transformation/" class="md-nav__link">
        Linear

      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="material-models">Material Models</h1>
<h2 id="introduction">Introduction</h2>
<p>This document shows how to add a new material implementation to OpenSees. The hierarchical nature of the OpenSees software architecture allows new material models to be seamlessly added to the framework. By keeping element and material implementations separate, a new material model can be used in an existing element without modifying the element implementation, and vice versa.</p>
<p>The remainder of this document is laid out as follows. First, the UniaxialMaterial interface is listed and explained. Then, an example UniaxialMaterial implementation, HardeningMaterial, is presented. Along with the C++ implementation, it is shown how to 1) add the new model to the OpenSees Tcl model builder, and 2) make the new model “movable” for parallel processing and database programming. Finally, a FORTRAN interface for programming UniaxialMaterial models in OpenSees is described.</p>
<h2 id="uniaxialmaterial-interface">UniaxialMaterial Interface</h2>
<p>Implementations of the UniaxialMaterial interface are used in several contexts within the OpenSees modeling framework. Due to their simplicity, these models can define both stress-strain and force-deformation relationships. It is up to the calling object, be it an element object or another material object, to interpret the meaning appropriately.</p>
<p>Listed below is the UniaxialMaterial class interface. All methods in the UniaxialMaterial interface are public, there are no protected or private data or methods. Following the UniaxialMaterial class interface listing, each method in the interface is described.</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Material.h&gt;</span><span class="cp"></span>

<span class="k">class</span><span class="w"> </span><span class="nc">Response</span><span class="p">;</span><span class="w"></span>
<span class="k">class</span><span class="w"> </span><span class="nc">Information</span><span class="p">;</span><span class="w"></span>

<span class="k">class</span><span class="w"> </span><span class="nc">UniaxialMaterial</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Material</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">      </span><span class="n">UniaxialMaterial</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">classTag</span><span class="p">);</span><span class="w">    </span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">UniaxialMaterial</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>

<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">setTrialStrain</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">strain</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">strainRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">getStrain</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">getStrainRate</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">getStress</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">getTangent</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">getDampTangent</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">getSecant</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>

<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">commitState</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">revertToLastCommit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">    </span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">revertToStart</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">        </span>

<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="n">UniaxialMaterial</span><span class="w"> </span><span class="o">*</span><span class="nf">getCopy</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="n">Response</span><span class="w"> </span><span class="o">*</span><span class="nf">setResponse</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">Information</span><span class="w"> </span><span class="o">&amp;</span><span class="n">matInfo</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getResponse</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">responseID</span><span class="p">,</span><span class="w"> </span><span class="n">Information</span><span class="w"> </span><span class="o">&amp;</span><span class="n">matInfo</span><span class="p">);</span><span class="w">    </span>

<span class="w">   </span><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span>
<span class="w">   </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>

<p>A note about the C++ syntax seen in the UniaxialMaterial interface. The keyword “virtual” at the start of a method declaration indicates this method may be overridden by a subclass of UniaxialMaterial. The UniaxialMaterial base class provides default implementations for its virtual methods. The notation “= 0” at the end of the method declaration indicates the method is <em>pure</em> virtual, meaning it <em>must</em> be defined by subclasses because the UniaxialMaterial base class does not provide a default implementation.</p>
<p>The UniaxialMaterial base class constructor takes a tag and classTag as its arguments. The tag passed to the constructor identifies this UniaxialMaterial as unique among all other UniaxialMaterial objects, and the classTag is used primarily for parallel processing and database programming. Class tags are defined in the file classTags.h. The tag and classTag arguments are passed to the Material class constructor, where they are in turn passed to the TaggedObject and MovableObject class constructors, respectively. The UniaxialMaterial destructor is declared, but does not do anything as the UniaxialMaterial base class contains no data.</p>
<p>The method <code>setTrialStrain()</code> takes one or two arguments, an updated strain and strain rate. The strain rate is an optional argument, with default value <span class="math inline">\(0.0\)</span>. This method is pure virtual, so it must be implemented in all subclasses of UniaxialMaterial.</p>
<p>The next two methods, <code>getStrain()</code> and <code>getStrainRate()</code>, are to return the current strain and strain rate of this UniaxialMaterial. The method <code>getStrain()</code> is pure virtual, while <code>getStrainRate()</code> is only virtual; by default it returns <span class="math inline">\(0.0\)</span>, but may be overridden in subclasses if needed.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">double</span><span class="w"></span>
<span class="w">    </span><span class="nf">UniaxialMaterial::getStrainRate</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<p>The <code>getDampTangent()</code> method is next, and is to return the current damping tangent, which is the partial derivative of the current stress with respect to the current strain rate,</p>
<p><span class="math display">\[\eta = \frac{\partial{\sigma}}{\partial{\dot{\varepsilon}}} \: .\]</span></p>
<p>By default, this method returns <span class="math inline">\(0.0\)</span>, and it may be overridden in subclasses of UniaxialMaterial where there is strain rate dependence.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">double</span><span class="w"></span>
<span class="w">    </span><span class="nf">UniaxialMaterial::getDampTangent</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<p>Finally, the <code>getSecant()</code> method is provided to return the material secant, which is the current stress divided by the current strain,</p>
<p><span class="math display">\[D_s = \frac{\sigma}{\varepsilon} \: .\]</span></p>
<p>By default, this method returns the result of dividing the current stress by the current strain. If the current strain is zero, the current tangent is returned instead.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">double</span><span class="w"></span>
<span class="w">    </span><span class="nf">UniaxialMaterial::getSecant</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="kt">double</span><span class="w"> </span><span class="n">strain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">getStrain</span><span class="p">();</span><span class="w"></span>
<span class="w">       </span><span class="kt">double</span><span class="w"> </span><span class="n">stress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">getStress</span><span class="p">();</span><span class="w"></span>

<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strain</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"></span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">stress</span><span class="o">/</span><span class="n">strain</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="k">else</span><span class="w"></span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">getTangent</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<p>The next set of methods deal with possible path dependent behavior of UniaxialMaterial models. All Material objects in OpenSees are responsible for keeping track of and updating their own history variables. First, the method <code>commitState()</code> is invoked to inform a <code>UniaxialMaterial</code> object that its current state is on the converged solution path and its internal history variables should be updated accordingly. Next, the method <code>revertToLastCommit()</code> is provided to let a UniaxialMaterial object know that it should return to its last committed state at. Finally, <code>revertToStart()</code> informs the UniaxialMaterial object to revert to its initial state, i.e., at the start of the analysis. All three of these methods are pure virtual, and thus must be implemented in all subclasses of UniaxialMaterial.</p>
<h2 id="example-hardeningmaterial">Example – HardeningMaterial</h2>
<p>In this section, it is shown how the rate-independent uniaxial hardening material model given in Simo &amp; Hughes, <em>Computational Inelasticity</em> (1998) is implemented in OpenSees. First, the class implementation is shown, followed by its inclusion in the Tcl model builder.</p>
<h3 id="class-implementation">Class Implementation</h3>
<p>The HardeningMaterial class interface is shown below. Here, no methods are virtual since this class provides implementations for the corresponding methods inherited from the UniaxialMaterial class.</p>
<div class="center">
<p><img src="../Material.svg" /> </p>
</div>
<p>Note, three additional methods not declared in the UniaxialMaterial interface, <code>sendSelf()</code>, <code>recvSelf()</code>, and <code>Print()</code>, must be defined in implementations of UniaxialMaterial. These methods are inherited from higher level classes in the OpenSees framework, particularly, TaggedObject and MovableObject. An explanation of these methods is provided in what follows.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;UniaxialMaterial.h&gt;</span><span class="cp"></span>

<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">HardeningMaterial</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">UniaxialMaterial</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">          </span><span class="n">HardeningMaterial</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">Hiso</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">Hkin</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="n">HardeningMaterial</span><span class="p">();</span><span class="w"></span>
<span class="w">          </span><span class="o">~</span><span class="n">HardeningMaterial</span><span class="p">();</span><span class="w"></span>

<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="nf">setTrialStrain</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">strain</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">strainRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span><span class="w"> </span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="nf">getStrain</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w">          </span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="nf">getStress</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="nf">getTangent</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>

<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="nf">commitState</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="nf">revertToLastCommit</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w">    </span>
<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="nf">revertToStart</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w">        </span>

<span class="w">          </span><span class="n">UniaxialMaterial</span><span class="w"> </span><span class="o">*</span><span class="nf">getCopy</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span>
<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="nf">sendSelf</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">commitTag</span><span class="p">,</span><span class="w"> </span><span class="n">Channel</span><span class="w"> </span><span class="o">&amp;</span><span class="n">theChannel</span><span class="p">);</span><span class="w">  </span>
<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="nf">recvSelf</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">commitTag</span><span class="p">,</span><span class="w"> </span><span class="n">Channel</span><span class="w"> </span><span class="o">&amp;</span><span class="n">theChannel</span><span class="p">,</span><span class="w"> </span>
<span class="w">                       </span><span class="n">FEM_ObjectBroker</span><span class="w"> </span><span class="o">&amp;</span><span class="n">theBroker</span><span class="p">);</span><span class="w">    </span>
<span class="w">        </span>
<span class="w">          </span><span class="kt">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">(</span><span class="n">OPS_Stream</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span>
<span class="w">       </span><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<span class="w">        </span>
<span class="w">       </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">          </span><span class="c1">// Material parameters</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">E</span><span class="p">;</span><span class="w">       </span><span class="c1">// Elastic modulus</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">;</span><span class="w">  </span><span class="c1">// Yield stress</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Hiso</span><span class="p">;</span><span class="w">    </span><span class="c1">// Isotropic hardening modulus</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Hkin</span><span class="p">;</span><span class="w">    </span><span class="c1">// Kinematic hardening modulus</span>

<span class="w">          </span><span class="c1">// Committed history variables</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">CplasticStrain</span><span class="p">;</span><span class="w">  </span><span class="c1">// Committed plastic strain</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">CbackStress</span><span class="p">;</span><span class="w">     </span><span class="c1">// Committed back stress;</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Chardening</span><span class="p">;</span><span class="w">      </span><span class="c1">// Committed internal hardening variable</span>

<span class="w">          </span><span class="c1">// Trial history variables</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">TplasticStrain</span><span class="p">;</span><span class="w">  </span><span class="c1">// Trial plastic strain</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">TbackStress</span><span class="p">;</span><span class="w">     </span><span class="c1">// Trial back stress</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Thardening</span><span class="p">;</span><span class="w">      </span><span class="c1">// Trial internal hardening variable</span>

<span class="w">          </span><span class="c1">// Trial state variables</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Tstrain</span><span class="p">;</span><span class="w">   </span><span class="c1">// Trial strain</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Tstress</span><span class="p">;</span><span class="w">   </span><span class="c1">// Trial stress</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">Ttangent</span><span class="p">;</span><span class="w">  </span><span class="c1">// Trial tangent</span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
</pre></div>

<p>The first two methods defined for HardeningMaterial are the constructors. The first constructor takes the material tag and the material parameters: elastic modulus, <span class="math inline">\(E\)</span>, yield stress, <span class="math inline">\(\sigma_y\)</span>, isotropic hardening modulus, <span class="math inline">\(H_{iso}\)</span>, and kinematic hardening modulus, <span class="math inline">\(H_{kin}\)</span>. The UniaxialMaterial base class constructor is invoked with the arguments tag and <code>MAT_TAG_Hardening</code> (defined in <code>classTags.h</code>). The material parameters for this object are initialized in the initialization list with the arguments passed to the constructor, and all history variables are initialized by invoking <code>revertToStart()</code>. The second constructor is a default constructor which sets all material parameters to <span class="math inline">\(0.0\)</span> then invokes <code>revertToStart()</code>.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="n">HardeningMaterial</span><span class="o">::</span><span class="n">HardeningMaterial</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"></span>
<span class="w">                                         </span><span class="kt">double</span><span class="w"> </span><span class="n">hi</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">hk</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="n">UniaxialMaterial</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span><span class="n">MAT_TAG_Hardening</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">E</span><span class="p">(</span><span class="n">e</span><span class="p">),</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">(</span><span class="n">s</span><span class="p">),</span><span class="w"> </span><span class="n">Hiso</span><span class="p">(</span><span class="n">hi</span><span class="p">),</span><span class="w"> </span><span class="n">Hkin</span><span class="p">(</span><span class="n">hk</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Initialize variables</span>
<span class="w">       </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">revertToStart</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="n">HardeningMaterial</span><span class="o">::</span><span class="n">HardeningMaterial</span><span class="p">()</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="n">UniaxialMaterial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">MAT_TAG_Hardening</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">E</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="n">Hiso</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="n">Hkin</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Initialize variables</span>
<span class="w">       </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">revertToStart</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<p>The next method defined is the destructor, which does nothing since no memory is dynamically allocated by a HardeningMaterial object.</p>
<div class="highlight"><pre><span></span>HardeningMaterial::~HardeningMaterial()
{
   // Does nothing
}
</pre></div>

<p>The following methods deal with the material state determination. The return mapping algorithm is coded in <code>setTrialStrain()</code>. The stress and tangent of this HardeningMaterial object are computed and stored in the instance variables Tstress and Ttangent and returned by the methods <code>getStress()</code> and <code>getTangent()</code>, respectively. The trial strain, stored in the instance variable Tstrain, is returned by the method <code>getStrain()</code>.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">int</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::setTrialStrain</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">strain</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">strainRate</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Set total strain</span>
<span class="w">       </span><span class="n">Tstrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strain</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="w">       </span><span class="c1">// Elastic trial stress</span>
<span class="w">       </span><span class="n">Tstress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">Tstrain</span><span class="o">-</span><span class="n">CplasticStrain</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span>
<span class="w">       </span><span class="c1">// Compute trial stress relative to committed back stress</span>
<span class="w">       </span><span class="kt">double</span><span class="w"> </span><span class="n">xsi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tstress</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">CbackStress</span><span class="p">;</span><span class="w"></span>

<span class="w">       </span><span class="c1">// Compute yield criterion</span>
<span class="w">       </span><span class="kt">double</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fabs</span><span class="p">(</span><span class="n">xsi</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">sigmaY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Hiso</span><span class="o">*</span><span class="n">Chardening</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span>
<span class="w">       </span><span class="c1">// Elastic step ... no updates required</span>
<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">f</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="c1">// Set trial tangent</span>
<span class="w">          </span><span class="n">Ttangent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Plastic step ... perform return mapping algorithm</span>
<span class="w">       </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="c1">// Compute consistency parameter</span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">dGamma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="o">+</span><span class="n">Hiso</span><span class="o">+</span><span class="n">Hkin</span><span class="p">);</span><span class="w"></span>
<span class="w">       </span>
<span class="w">          </span><span class="c1">// Find sign of xsi</span>
<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="n">sign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xsi</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">-1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="w">          </span><span class="c1">// Bring trial stress back to yield surface</span>
<span class="w">          </span><span class="n">Tstress</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">dGamma</span><span class="o">*</span><span class="n">E</span><span class="o">*</span><span class="n">sign</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="w">          </span><span class="c1">// Update plastic strain</span>
<span class="w">          </span><span class="n">TplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CplasticStrain</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dGamma</span><span class="o">*</span><span class="n">sign</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="w">          </span><span class="c1">// Update back stress</span>
<span class="w">          </span><span class="n">TbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CbackStress</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dGamma</span><span class="o">*</span><span class="n">Hkin</span><span class="o">*</span><span class="n">sign</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="w">          </span><span class="c1">// Update internal hardening variable</span>
<span class="w">          </span><span class="n">Thardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Chardening</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dGamma</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="w">          </span><span class="c1">// Set trial tangent</span>
<span class="w">          </span><span class="n">Ttangent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="o">*</span><span class="p">(</span><span class="n">Hkin</span><span class="o">+</span><span class="n">Hiso</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="o">+</span><span class="n">Hkin</span><span class="o">+</span><span class="n">Hiso</span><span class="p">);</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>

<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::getStress</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">Tstress</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::getTangent</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">Ttangent</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::getStrain</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">Tstrain</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<p>The next set of methods deal with the path dependent behavior of this HardeningMaterial object. The method <code>commitState()</code> sets the committed history variables to be their corresponding trial values. Nothing needs to be done in the method <code>revertToLastCommit()</code>, and all history variables are set to <span class="math inline">\(0.0\)</span> in <code>revertToStart()</code>.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">int</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::commitState</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Commit trial state variables</span>
<span class="w">       </span><span class="n">CplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TplasticStrain</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">CbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TbackStress</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">Chardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Thardening</span><span class="p">;</span><span class="w"></span>

<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::revertToLastCommit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Nothing to do here</span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span>
<span class="w">    </span><span class="nf">HardeningMaterial::revertToStart</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">// Reset committed history variables</span>
<span class="w">       </span><span class="n">CplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">CbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">Chardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>

<span class="w">       </span><span class="c1">// Reset trial history variables</span>
<span class="w">       </span><span class="n">TplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">TbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">Thardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>

<span class="w">       </span><span class="c1">// Initialize state variables</span>
<span class="w">       </span><span class="n">Tstrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">Tstress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="n">Ttangent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">;</span><span class="w"></span>

<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<p>The <code>getCopy()</code> method is defined so this HardeningMaterial object can provide a clone of itself to a calling object, be it an Element, Fiber, or other Material object. The constructor is invoked to create a new object, then all instance variables are copied to the new object. The calling object is responsible for deleting this dynamically allocated memory.</p>
<div class="highlight"><pre><span></span><span class="n">UniaxialMaterial</span><span class="o">*</span><span class="w"></span>
<span class="n">HardeningMaterial</span><span class="p">::</span><span class="n">getCopy</span><span class="p">(</span><span class="nb nb-Type">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="n">HardeningMaterial</span><span class="w"> </span><span class="o">*</span><span class="n">theCopy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">      </span><span class="n">new</span><span class="w"> </span><span class="n">HardeningMaterial</span><span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getTag</span><span class="p">(),</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">,</span><span class="w"> </span><span class="n">Hiso</span><span class="p">,</span><span class="w"> </span><span class="n">Hkin</span><span class="p">);</span><span class="w"></span>

<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">Copy</span><span class="w"> </span><span class="n">committed</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">variables</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">CplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CplasticStrain</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">CbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CbackStress</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">Chardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Chardening</span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">Copy</span><span class="w"> </span><span class="n">trial</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">variables</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">TplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TplasticStrain</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">TbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TbackStress</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">Thardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Thardening</span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">Copy</span><span class="w"> </span><span class="n">trial</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">variables</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">Tstrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tstrain</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">Tstress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tstress</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">theCopy</span><span class="o">-&gt;</span><span class="n">Ttangent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Ttangent</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">theCopy</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>

<p>The next two methods are defined for parallel processing and database programming, and are inherited from MovableObject. The first method, <code>sendSelf()</code>, packs the material properties and committed history variables in a Vector, then sends the Vector across the Channel object passed as an argument to the method. The second method, <code>recvSelf()</code>, receives data from the Channel object, then populates the data of this HardeningMaterial object with the received data.</p>
<div class="highlight"><pre><span></span><span class="nb nb-Type">int</span><span class="w"> </span>
<span class="n">HardeningMaterial</span><span class="p">::</span><span class="n">sendSelf</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">cTag</span><span class="p">,</span><span class="w"> </span><span class="n">Channel</span><span class="w"> </span><span class="o">&amp;</span><span class="n">theChannel</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="k">static</span><span class="w"> </span><span class="n">Vector</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getTag</span><span class="p">();</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hiso</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hkin</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CplasticStrain</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CbackStress</span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">data</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Chardening</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w">   </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">theChannel</span><span class="o">.</span><span class="n">sendVector</span><span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getDbTag</span><span class="p">(),</span><span class="w"> </span><span class="n">cTag</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">res</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;HardeningMaterial::sendSelf() - failed to send data</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nb nb-Type">int</span><span class="w"> </span>
<span class="n">HardeningMaterial</span><span class="p">::</span><span class="n">recvSelf</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">cTag</span><span class="p">,</span><span class="w"> </span><span class="n">Channel</span><span class="w"> </span><span class="o">&amp;</span><span class="n">theChannel</span><span class="p">,</span><span class="w"> </span>
<span class="w">                            </span><span class="n">FEM_ObjectBroker</span><span class="w"> </span><span class="o">&amp;</span><span class="n">theBroker</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="k">static</span><span class="w"> </span><span class="n">Vector</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span>
<span class="w">   </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">theChannel</span><span class="o">.</span><span class="n">recvVector</span><span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getDbTag</span><span class="p">(),</span><span class="w"> </span><span class="n">cTag</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">res</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;HardeningMaterial::recvSelf() - failed to receive data</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">setTag</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">      </span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">setTag</span><span class="p">((</span><span class="nb nb-Type">int</span><span class="p">)</span><span class="n">data</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span><span class="w"></span>
<span class="w">      </span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">sigmaY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">Hiso</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">Hkin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">CplasticStrain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">CbackStress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">Chardening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>

<span class="w">      </span><span class="o">//</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trial</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">variables</span><span class="w"></span>
<span class="w">      </span><span class="n">revertToLastCommit</span><span class="p">();</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>

<p>The final HardeningMaterial method is <code>Print()</code>, which writes the material name, tag, and parameters to the output stream passed as an argument. This method is inherited from TaggedObject.</p>
<div class="highlight"><pre><span></span><span class="nt">void</span><span class="w"> </span>
<span class="nt">HardeningMaterial</span><span class="p">::</span><span class="nd">Print</span><span class="o">(</span><span class="nt">OPS_Stream</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">s</span><span class="o">,</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">flag</span><span class="o">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="err">s</span><span class="w"> </span><span class="err">&lt;&lt;</span><span class="w"> </span><span class="err">&quot;HardeningMaterial,</span><span class="w"> </span><span class="n">tag</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &lt;&lt; this-&gt;getTag() &lt;&lt; endln;</span>
<span class="s2">   s &lt;&lt; &quot;</span><span class="w">  </span><span class="n">E</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot; &lt;&lt; E &lt;&lt; endln;</span>
<span class="s2">   s &lt;&lt; &quot;</span><span class="w">  </span><span class="n">sigmaY</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot; &lt;&lt; sigmaY &lt;&lt; endln;</span>
<span class="s2">   s &lt;&lt; &quot;</span><span class="w">  </span><span class="n">Hiso</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot; &lt;&lt; Hiso &lt;&lt; endln;</span>
<span class="s2">   s &lt;&lt; &quot;</span><span class="w">  </span><span class="n">Hkin</span><span class="o">:</span><span class="w"> </span><span class="err">&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Hkin</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>

<h3 id="tcl-model-builder">Tcl Model Builder</h3>
<p>The new HardeningMaterial model must be added to the OpenSees Tcl model builder in order for it to be used by analysis models defined in Tcl script files. The general from of the uniaxialMaterial command is as follows:</p>
<div class="highlight"><pre><span></span>   uniaxialMaterial materialType tag &lt;specific material parameters&gt;
</pre></div>

<p>So, for a HardeningMaterial object, it is necessary to read in the material parameters that are passed to its constructor, namely the elastic modulus, yield stress, and isotropic and kinematic hardening moduli. The general form of the command will be:</p>
<div class="highlight"><pre><span></span>   uniaxialMaterial Hardening tag E sigmaY Hiso Hkin
</pre></div>

<p>An example command to add a HardeningMaterial object with tag <span class="math inline">\(1\)</span>, elastic modulus of <span class="math inline">\(30000.0\)</span>, yield stress of <span class="math inline">\(60.0\)</span>, isotropic hardening modulus of <span class="math inline">\(0.0\)</span>, and kinematic hardening modulus of <span class="math inline">\(1000.0\)</span> may then look like:</p>
<div class="highlight"><pre><span></span>   uniaxialMaterial Hardening 1 30000.0 60.0 0.0 1000.0
</pre></div>

<p>How these values are parsed and used to construct a HardeningMaterial object is described next. The parsing of input data for all UniaxialMaterial models is done in the function <code>TclModelBuilderUniaxialMaterialCommand</code> contained in the file <code>TclModelBuilderUniaxialMaterialCommand.cpp</code>. In this file there are multiple if/else statements, one for each UniaxialMaterial that can be added to the model builder. To add the new model only requires adding an additional case with the accompanying code to parse the Tcl command line.</p>
<p>The above command is split into an array of character strings (<code>argv</code>) by the Tcl interpreter, then sent to the <code>TclModelBuilderUniaxialMaterialCommand</code> function. <code>argv[0]</code> contains the command name <code>"uniaxialMaterial"</code>, <code>argv[1]</code> holds the material keyword <code>"Hardening"</code>, <code>argv[2]</code> contains the material tag, and the remaining entries in the <code>argv</code> array hold the specific material parameters. These parameters are the arguments needed to call the HardeningMaterial constructor. The number of elements in the <code>argv</code> array is stored in the variable <code>argc</code>.</p>
<p>Calls are made to the Tcl routines <code>Tcl_GetInt</code> and <code>Tcl_GetDouble</code> to get integer and double values from the character strings contained in argv. These routines perform error checking and return the pre-defined value <code>TCL_OK</code> if there was no error. Once the UniaxialMaterial has been allocated, it is added to the Tcl model builder at the end of the <code>TclModelBuilderUniaxialMaterialCommand</code> function, after the multiple if/else statement has ended.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">int</span><span class="w"></span>
<span class="w">    </span><span class="nf">TclModelBuilderUniaxialMaterialCommand</span><span class="p">(</span><span class="n">ClientData</span><span class="w"> </span><span class="n">clienData</span><span class="p">,</span><span class="w"> </span><span class="n">Tcl_Interp</span><span class="w"> </span><span class="o">*</span><span class="n">interp</span><span class="p">,</span><span class="w"></span>
<span class="w">                                           </span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">,</span><span class="w"></span>
<span class="w">                                           </span><span class="n">TclModelBuilder</span><span class="w"> </span><span class="o">*</span><span class="n">theTclBuilder</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>

<span class="w">       </span><span class="c1">// Pointer to a UniaxialMaterial that will be added to the model builder</span>
<span class="w">       </span><span class="n">UniaxialMaterial</span><span class="w"> </span><span class="o">*</span><span class="n">theMaterial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&quot;Elastic&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="c1">//</span>
<span class="w">          </span><span class="c1">// Additional code not shown</span>
<span class="w">          </span><span class="c1">//</span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>

<span class="w">       </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&quot;Hardening&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">argc</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING insufficient arguments</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">printCommand</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="n">argv</span><span class="p">);</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Want: uniaxialMaterial Hardening tag E sigmaY Hiso Hkin&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>

<span class="w">          </span><span class="kt">int</span><span class="w"> </span><span class="n">tag</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="kt">double</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">,</span><span class="w"> </span><span class="n">Hiso</span><span class="p">,</span><span class="w"> </span><span class="n">Hkin</span><span class="p">;</span><span class="w"></span>

<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Tcl_GetInt</span><span class="p">(</span><span class="n">interp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tag</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">TCL_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING invalid uniaxialMaterial Hardening tag&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w">      </span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>

<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Tcl_GetDouble</span><span class="p">(</span><span class="n">interp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">E</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">TCL_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING invalid E</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;uniaxialMaterial Hardening: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w">  </span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>

<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Tcl_GetDouble</span><span class="p">(</span><span class="n">interp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sigmaY</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">TCL_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING invalid sigmaY</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;uniaxialMaterial Hardening: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>

<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Tcl_GetDouble</span><span class="p">(</span><span class="n">interp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Hiso</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">TCL_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING invalid Hiso</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;uniaxialMaterial Hardening: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w">  </span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>

<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Tcl_GetDouble</span><span class="p">(</span><span class="n">interp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Hkin</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">TCL_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING invalid Hkin</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;uniaxialMaterial Hardening: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w">  </span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>

<span class="w">          </span><span class="c1">// Parsing was successful, allocate the material</span>
<span class="w">          </span><span class="n">theMaterial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HardeningMaterial</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">sigmaY</span><span class="p">,</span><span class="w"> </span><span class="n">Hiso</span><span class="p">,</span><span class="w"> </span><span class="n">Hkin</span><span class="p">);</span><span class="w">       </span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>

<span class="w">       </span><span class="c1">//</span>
<span class="w">       </span><span class="c1">// Additional code not shown</span>
<span class="w">       </span><span class="c1">//</span>

<span class="w">       </span><span class="c1">// Now add the material to the modelBuilder</span>
<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">theTclBuilder</span><span class="o">-&gt;</span><span class="n">addUniaxialMaterial</span><span class="p">(</span><span class="o">*</span><span class="n">theMaterial</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;WARNING could not add uniaxialMaterial to the model builder</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">theMaterial</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="k">delete</span><span class="w"> </span><span class="n">theMaterial</span><span class="p">;</span><span class="w"> </span><span class="c1">// invoke the material objects destructor,</span>
<span class="w">                              </span><span class="c1">// otherwise memory leak</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_ERROR</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>

<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">TCL_OK</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>

<h3 id="fem_objectbroker">FEM_ObjectBroker</h3>
<p>In order for the new <code>HardeningMaterial</code> object to be used for parallel processing and database programming, the <code>getNewUniaxialMaterial()</code> method in the <code>FEM_ObjectBroker</code> class must be modified. An additional case statement should be added, as shown below. The <code>MAT_TAG_Hardening</code> classTag is the same pre-defined value passed to the <code>UniaxialMaterial</code> constructor by the HardeningMaterial constructor described earlier. The <code>FEM_ObjectBroker</code> simply returns a blank <code>HardeningMaterial</code> object, whose data can be subsequently populated by invoking <code>recvSelf()</code>.</p>
<div class="highlight"><pre><span></span><span class="w">    </span><span class="nt">UniaxialMaterial</span><span class="o">*</span><span class="w"></span>
<span class="w">    </span><span class="nt">FEM_ObjectBroker</span><span class="p">::</span><span class="nd">getNewUniaxialMaterial</span><span class="o">(</span><span class="nt">int</span><span class="w"> </span><span class="nt">classTag</span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="err">switch(classTag)</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">       </span><span class="err">case</span><span class="w"> </span><span class="n">MAT_TAG_Hardening</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="n">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="nf">HardeningMaterial</span><span class="p">();</span><span class="w"></span>

<span class="w">       </span><span class="err">//</span><span class="w"></span>
<span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">Additional</span><span class="w"> </span><span class="err">cases</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">shown</span><span class="w"></span>
<span class="w">       </span><span class="err">//</span><span class="w"></span>

<span class="w">       </span><span class="n">default</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="n">opserr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;FEM_ObjectBroker::getPtrNewUniaxialMaterial - &quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="err">opserr</span><span class="w"> </span><span class="err">&lt;&lt;</span><span class="w"> </span><span class="err">&quot;</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">UniaxialMaterial</span><span class="w"> </span><span class="err">type</span><span class="w"> </span><span class="err">exists</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">class</span><span class="w"> </span><span class="err">tag</span><span class="w"> </span><span class="err">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="err">opserr</span><span class="w"> </span><span class="err">&lt;&lt;</span><span class="w"> </span><span class="err">classTag</span><span class="w"> </span><span class="err">&lt;&lt;</span><span class="w"> </span><span class="err">endln</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="err">return</span><span class="w"> </span><span class="err">0</span><span class="p">;</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w">        </span>
<span class="w">    </span><span class="err">}</span><span class="w"></span>
</pre></div>

<strong>
<center>
<p>Michael H. Scott and Gregory L. Fenves</p>
<p>PEER, University of California, Berkeley</p>
<p>August 21, 2001</p>
Version 1.1
</center>
<p></strong></p>


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Berkeley, CA
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.top", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ed9748b7.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>